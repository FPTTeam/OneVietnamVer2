@using Microsoft.AspNet.Identity
@model OneVietnam.Models.PostViewModel
<div class="grid-item">
    <div class="ui fluid  card">
        @{
            if (Model.Illustrations != null && Model.Illustrations.Count > 0)
            {
                <div class="ui  image clickable">
                    <img src="@Model.Illustrations[0].PhotoLink" class="visible content"/>
                </div>               
            }
        }
        <div class="content clickable ">
            <div class="meta">
                @{
                    DateTime start = DateTime.Now;
                    // Do some work
                    TimeSpan timeDiff = DateTime.Now - @Model.CreatedDate;

                }
                @{

                   if (timeDiff.TotalDays >= 30)
                   {
                    <span>  Tạo ngày @Model.CreatedDate.Date </span>
                   }
                   else if (timeDiff.TotalHours >=24 )
                   {
                    <span>@Math.Round(timeDiff.TotalDays) ngày trước </span>
                   }else if (timeDiff.TotalMinutes >=60 )
                   {
                    <span>@Math.Round(timeDiff.TotalHours) giờ trước </span>
                   }else if (timeDiff.TotalSeconds >=60 )
                   {
                    <span>@Math.Round(timeDiff.TotalMinutes) phút trước </span>
                   }else 
                   {
                    <span>Vừa xong </span>
                   }
            }
            </div>
            <div class="header " >
                @Model.Title
            </div>
            <div class="description " >
                @Model.Description
            </div>




        <input type="text" class="hides" id="postId" value="@Model.Id" />


        </div>
    <div class="extra content">
        <img class="ui avatar image" src="@Model.AvartarLink">
        <a href="@Url.Action("Index","Timeline",new {Id=@Model.UserId})">@Model.UserName</a> 
    </div>
     
    </div>
</div>